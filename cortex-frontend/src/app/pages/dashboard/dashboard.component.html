<div class="grid-2-1">
  <app-card title="Quick Scan" subtitle="Trigger a one-off scan and jump to live results.">
    <form (ngSubmit)="quickScan()">
      <label>Hosts</label>
      <input [(ngModel)]="hosts" name="hosts" placeholder="host1 host2" />
      <label>Ports</label>
      <input [(ngModel)]="ports" name="ports" placeholder="22,80,443 or 20-25" />
      <label>Mode</label>
      <div class="modes">
        <label><input type="radio" name="mode" [(ngModel)]="mode" value="connect" /> Connect</label>
        <label><input type="radio" name="mode" [(ngModel)]="mode" value="syn" /> SYN</label>
        <label><input type="radio" name="mode" [(ngModel)]="mode" value="udp" /> UDP</label>
      </div>
      <button type="submit">Start</button>
    </form>
  </app-card>

  <div class="stack">
    <app-card title="Active Scans" subtitle="Tasks currently running on the cluster.">
      <ng-container *ngFor="let t of (tasks$ | async) || []; let i = index">
        <div class="row" *ngIf="t.status === 'running'">
          <span class="badge running">{{t.status}}</span>
          <code>{{t.hosts.join(', ')}}</code>
        </div>
      </ng-container>
    </app-card>

    <app-card title="Recent Activity" subtitle="Most recent completed or failed tasks.">
      <ng-container *ngFor="let t of (tasks$ | async) || []; let i = index">
        <div class="row" *ngIf="i < 5">
          <span class="badge" [class.completed]="t.status==='completed'" [class.failed]="t.status==='failed'">{{t.status}}</span>
          <code>{{t.hosts.join(', ')}}</code>
        </div>
      </ng-container>
    </app-card>
  </div>
</div>
