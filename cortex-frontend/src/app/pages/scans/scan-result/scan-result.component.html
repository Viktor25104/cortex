<div *ngIf="task as t">
  <h2>Scan {{t.id}}</h2>
  <div class="card">
    <div>Status: <span class="badge" [class.completed]="t.status==='completed'" [class.running]="t.status==='running'" [class.failed]="t.status==='failed'">{{t.status}}</span></div>
    <div>Targets: <code>{{t.hosts.join(', ')}}</code></div>
    <div>Ports: <code>{{t.ports}}</code></div>
  </div>

  <div class="card" *ngIf="t.results?.length">
    <table class="table">
      <thead><tr><th>Host</th><th>Port</th><th>State</th><th>Service/Banner</th></tr></thead>
      <tbody>
        <tr *ngFor="let r of t.results">
          <td><code>{{r.host}}</code></td>
          <td><code>{{r.port}}</code></td>
          <td>
            <span class="badge" [class.open]="r.state==='Open'" [class.closed]="r.state==='Closed'" [class.filtered]="r.state==='Filtered'">{{r.state}}</span>
          </td>
          <td><code>{{r.service || ''}}</code></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

