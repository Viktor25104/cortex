<div class="dashboard">
  <header class="page-header">
    <div>
      <h1>Command Dashboard</h1>
      <p class="subtitle">Real-time overview of network reconnaissance operations</p>
    </div>
  </header>

  <div class="dashboard-grid">
    <div class="card quick-scan-card">
      <div class="card-header">
        <h2>Quick Scan</h2>
        <p class="card-subtitle">Launch an immediate reconnaissance task</p>
      </div>
      <div class="card-body">
        <form (ngSubmit)="onQuickScan()">
          <div class="form-group">
            <label for="targets">Target(s)</label>
            <input type="text" id="targets" [(ngModel)]="quickScan.targets" name="targets" placeholder="192.168.1.1, scanme.nmap.org" class="input" />
            <span class="help-text">Comma-separated IPs or hostnames</span>
          </div>

          <div class="form-group">
            <label for="ports">Port Range</label>
            <input type="text" id="ports" [(ngModel)]="quickScan.ports" name="ports" placeholder="80,443,22,3389" class="input" />
            <span class="help-text">Comma-separated or range (e.g., 1-1000)</span>
          </div>

          <div class="error-message" *ngIf="error">{{ error }}</div>

          <button type="submit" class="btn btn-primary" [disabled]="loading">
            <span *ngIf="!loading">Launch Scan</span>
            <span *ngIf="loading">Initiating...</span>
          </button>
        </form>
      </div>
    </div>

    <div class="card active-scans-card">
      <div class="card-header">
        <h2>Active Scans</h2>
        <p class="card-subtitle">Currently executing reconnaissance tasks</p>
      </div>
      <div class="card-body">
        <div class="scan-list" *ngIf="activeScans.length > 0">
          <div *ngFor="let scan of activeScans" class="scan-item" (click)="viewScan(scan.id)">
            <div class="scan-info">
              <div class="scan-id">{{ scan.id.substring(0, 8) }}</div>
              <div class="scan-targets">{{ scan.targets.length }} target(s) ‚Ä¢ {{ scan.mode }}</div>
            </div>
            <div class="scan-status">
              <span [class]="getStatusClass(scan.status)">{{ scan.status }}</span>
              <div class="progress-indicator" *ngIf="scan.scanned_hosts">{{ scan.scanned_hosts }}/{{ scan.total_hosts }}</div>
            </div>
          </div>
        </div>

        <div class="empty-state" *ngIf="activeScans.length === 0">
          <div class="empty-icon">üõ∞Ô∏è</div>
          <p>No active scans</p>
          <span>All reconnaissance tasks completed</span>
        </div>
      </div>
    </div>

    <div class="card ai-intel-card">
      <div class="card-header">
        <div class="header-badge"><span class="badge-coming-soon">Coming in v8.0</span></div>
        <h2>AI-Driven Threat Intelligence</h2>
        <p class="card-subtitle">Machine learning analysis of global scan data</p>
      </div>
      <div class="card-body ai-mockup">
        <div class="ai-content">
          <div class="threat-score">
            <div class="score-circle">
              <svg viewBox="0 0 120 120" class="score-ring">
                <circle cx="60" cy="60" r="50" class="score-bg"/>
                <circle cx="60" cy="60" r="50" class="score-progress" style="stroke-dashoffset: 78.5"/>
              </svg>
              <div class="score-text">
                <span class="score-value">7.8</span>
                <span class="score-max">/10</span>
              </div>
            </div>
            <p class="score-label">Global Threat Level</p>
          </div>
          <div class="intel-items">
            <div class="intel-item"><div class="intel-icon">üì°</div><div class="intel-text"><strong>1,247</strong> high-value targets detected</div></div>
            <div class="intel-item"><div class="intel-icon">‚ö†Ô∏è</div><div class="intel-text"><strong>34</strong> critical vulnerabilities identified</div></div>
            <div class="intel-item"><div class="intel-icon">üîé</div><div class="intel-text"><strong>8,432</strong> services fingerprinted</div></div>
          </div>
          <div class="ai-disclaimer"><p>The Cortex AI Engine will provide automated threat analysis, vulnerability correlation, and predictive intelligence based on historical scan data.</p></div>
        </div>
      </div>
    </div>
  </div>
</div>

